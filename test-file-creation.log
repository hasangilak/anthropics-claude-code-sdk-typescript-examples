ğŸš€ Testing file creation with direct Write tool call...

ğŸ“¤ Sending request to Claude Code:
   Prompt: Create a file called "test-output.txt" with the content "Success! File created via Claude Code SDK with TypeScript and proper permission handling."

ğŸ”§ System initialized
---
ğŸ“¥ Assistant message:
{
  "id": "msg_01HscKmj4tNqeDThkG78JAbK",
  "type": "message",
  "role": "assistant",
  "model": "claude-sonnet-4-20250514",
  "content": [
    {
      "type": "tool_use",
      "id": "toolu_01MsMq42PWuWbGQC2BAZvhnh",
      "name": "Write",
      "input": {
        "file_path": "/home/hassan/anthropic-sdk/test-output.txt",
        "content": "Success! File created via Claude Code SDK with TypeScript and proper permission handling."
      }
    }
  ],
  "stop_reason": "tool_use",
  "stop_sequence": null,
  "usage": {
    "input_tokens": 3,
    "cache_creation_input_tokens": 1244,
    "cache_read_input_tokens": 13767,
    "output_tokens": 98,
    "service_tier": "standard"
  }
}
---

ğŸ”§ Claude Code wants to use the following tool:
   Tool: Write
   Description: Claude Code wants to use Write with the provided parameters
   Parameters: {
  "file_path": "/home/hassan/anthropic-sdk/test-output.txt",
  "content": "Success! File created via Claude Code SDK with TypeScript and proper permission handling."
}

â“ Do you want to allow this tool usage? (y/n): âœ… Permission granted for tool: Write
ğŸ“¥ Assistant message:
{
  "id": "msg_01Xqcdsjut9R7R8gPYsmL8KH",
  "type": "message",
  "role": "assistant",
  "model": "claude-sonnet-4-20250514",
  "content": [
    {
      "type": "text",
      "text": "File created successfully."
    }
  ],
  "stop_reason": null,
  "stop_sequence": null,
  "usage": {
    "input_tokens": 6,
    "cache_creation_input_tokens": 128,
    "cache_read_input_tokens": 15011,
    "output_tokens": 1,
    "service_tier": "standard"
  }
}
---
ğŸ Result:
   Duration: 6001ms
   Turns: 3
   Cost: $0.0171944
   Result: File created successfully.
---

âœ¨ Test completed!
